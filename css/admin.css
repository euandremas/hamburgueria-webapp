:root{
  /* Light theme (contraste reforçado) */
  --bg:#eef1f8;
  --panel:#ffffff;

  /* ✅ fundo suave dos quadros (mais escuro que o bg pra dar contraste “bonito”) */
  --panelSoft:#e6ecf6;

  /* bordas/linhas realmente visíveis no claro */
  --border:#b8c0d4;
  --line:#aeb7cc;

  --text:#0b0e14;
  --muted:#4f5a70;

  --sidebar:#0f172a;
  --sidebar2:#0b1223;
  --sidebarText:#d7dde7;

  --accent:#ff5a00;
  --danger:#e11d48;

  --green:#16a34a;
  --orange:#f97316;
  --blue:#2563eb;
  --violet:#7c3aed;

  --shadow: 0 18px 40px rgba(0,0,0,.10);
  --r:18px;

  /* Campos (claro) - com presença real */
  --fieldBg:#e9eef8;
  --fieldBgFocus:#ffffff;
  --fieldBorder:#b3bdd4;
  --fieldBorderFocus: rgba(255,90,0,.75);
}

html[data-theme="dark"]{
  --bg:#0b1220;
  --panel:#0f172a;
  --border:#1f2a44;

  /* ✅ um "panelSoft" bem sutil no escuro (não muda teu look top) */
  --panelSoft:#0c1426;

  /* no escuro a linha vira algo mais suave */
  --line:#223050;

  --text:#eaf0ff;
  --muted:#9aa6be;

  --sidebar:#070d1a;
  --sidebar2:#050a14;
  --sidebarText:#d7dde7;

  --shadow: 0 18px 40px rgba(0,0,0,.35);

  /* Campos (escuro) - mantém o look top */
  --fieldBg: rgba(255,255,255,.02);
  --fieldBgFocus: rgba(255,255,255,.03);
  --fieldBorder: #223050;
  --fieldBorderFocus: rgba(255,90,0,.50);
}

/* ✅ BLINDAGEM GLOBAL (mata overflow fantasma do iOS) */
*,
*::before,
*::after{
  box-sizing: border-box;
}

/* ✅ FIX: viewport e overflow lateral (iOS/Safari) */
html, body{
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
}

body{
  background: var(--bg);
  color: var(--text);
  overflow-x: hidden; /* ✅ iOS: evita scroll lateral chato */
}

/* =========================
   ✅ MOBILE MENU (protótipo)
   ========================= */

/* Overlay */
.overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.45);
  opacity: 0;
  pointer-events: none;
  transition: opacity .25s ease;
  z-index: 1000;
}
.overlay.is-active{
  opacity: 1;
  pointer-events: auto;
}

/* Botão ☰/✕ */
.menu-toggle{
  position: fixed;
  top: 12px;
  left: 12px;
  z-index: 1300;
  width: 44px;
  height: 44px;
  border-radius: 14px;
  border: 1.5px solid var(--line);
  background: var(--panel);
  color: var(--text);
  box-shadow: var(--shadow);
  display: none; /* aparece só no mobile */
  align-items: center;
  justify-content: center;
  font-size: 22px;
  font-weight: 900;
  cursor: pointer;
  transition: transform .08s ease, filter .15s ease;
}
.menu-toggle:hover{ filter: brightness(.97); }
.menu-toggle:active{ transform: translateY(1px); filter: brightness(.93); }

/* trava scroll quando menu abre */
body.no-scroll{
  overflow: hidden;
}

/* App layout */
.app{
  min-height: 100vh;
  display: grid;
  grid-template-columns: 280px 1fr;
  max-width: 100%;
  overflow-x: hidden;

  /* ✅ FIX GRID: permite encolher filhos (senão estoura no mobile) */
  min-width: 0;
}

.sidebar{
  background: linear-gradient(180deg, var(--sidebar), var(--sidebar2));
  padding: 18px 16px;
  display: flex;
  flex-direction: column;
  gap: 18px;
  border-right: 1px solid rgba(255,255,255,.06);
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  padding: 10px 8px;
}
.brand__icon{
  width:44px;height:44px;
  border-radius: 12px;
  display:grid;place-items:center;
  background: rgba(255,255,255,.06);
  color: var(--accent);
}
.brand__name{
  font-size: 20px;
  font-weight: 800;
  color: var(--sidebarText);
  letter-spacing: .2px;
}
.brand__accent{ color: var(--accent); }

/* nav */
.nav{
  display:grid;
  gap:10px;
}

.nav__item{
  width:100%;
  border:0;
  background: transparent;
  color: var(--sidebarText);
  display:flex;
  align-items:center;
  gap:12px;
  padding: 14px 12px;
  border-radius: 14px;
  cursor:pointer;
  font-weight: 700;
  position: relative;
  transition: .15s ease;
}
.nav__item:hover{
  background: rgba(255,255,255,.06);
}
.nav__item.is-active{
  background: var(--accent);
  color: #fff;
}
.nav__ico{
  width:20px;height:20px; display:grid; place-items:center;
}
.nav__dot{
  margin-left:auto;
  width:7px;height:7px;border-radius:999px;
  background: rgba(255,255,255,.0);
}
.nav__item.is-active .nav__dot{
  background: rgba(255,255,255,.95);
}

/* footer / logout */
.sidebar__footer{ margin-top:auto; }
.logout{
  width:100%;
  border:0;
  background: transparent;
  color: var(--sidebarText);
  display:flex;
  align-items:center;
  gap:12px;
  padding: 14px 12px;
  border-radius: 14px;
  cursor:pointer;
  font-weight: 700;
  transition:.15s ease;
}
.logout:hover{
  background: rgba(225,29,72,.18);
  color: #fff;
}

/* main */
.main{
  padding: 26px 28px;
  max-width: 100%;
  overflow-x: hidden;

  /* ✅ FIX GRID: permite encolher conteúdo interno */
  min-width: 0;
}

.pageHead h1{
  margin: 0 0 6px;
  font-size: 38px;
  letter-spacing: -.6px;
}
.pageHead p{
  margin:0 0 18px;
  color: var(--muted);
}

.view{ display:none; }
.view.is-active{ display:block; }

/* Panels e KPIs com linha mais forte no claro */
.panel{
  background: linear-gradient(180deg, var(--panel) 0%, var(--panelSoft) 100%);
  border: 1.5px solid var(--line);
  border-radius: var(--r);
  box-shadow: var(--shadow);
  padding: 18px;
  max-width: 100%;

  /* ✅ FIX GRID */
  min-width: 0;
}

.cards{
  display:grid;
  grid-template-columns: repeat(4, minmax(180px, 1fr));
  gap: 18px;
  margin-bottom: 18px;

  /* ✅ FIX GRID */
  min-width: 0;
}

.kpi{
  background: linear-gradient(180deg, var(--panel) 0%, var(--panelSoft) 100%);
  border: 1.5px solid var(--line);
  border-radius: var(--r);
  box-shadow: var(--shadow);
  padding: 18px;

  /* ✅ FIX GRID */
  min-width: 0;
}
.kpi__top{
  display:flex; align-items:center; justify-content:space-between;
  color: var(--muted);
  font-weight: 700;
}
.kpi__val{
  margin-top: 18px;
  font-size: 34px;
  font-weight: 800;
}
.kpi__ico{
  width:34px;height:34px;border-radius: 10px;
  display:grid;place-items:center;
  background: rgba(0,0,0,.04);
  color: var(--text);
}
.kpi__ico--blue{ background: rgba(37,99,235,.08); color: var(--blue); }
.kpi__ico--orange{ background: rgba(249,115,22,.10); color: var(--orange); }
.kpi__ico--green{ background: rgba(22,163,74,.10); color: var(--green); }
.kpi__ico--violet{ background: rgba(124,58,237,.10); color: var(--violet); }

.activity{
  display:grid;
  gap: 12px;
  margin-top: 12px;
}

/* Atividade Recente com borda forte (modo claro) */
.actItem{
  display:flex;
  align-items:center;
  gap: 14px;
  border-radius: 14px;
  padding: 14px;
  border: 1.5px solid var(--line);
}
.actItem__ico{
  width:40px;height:40px;border-radius:999px;
  display:grid;place-items:center;
  color:#fff;
}
.actItem__t{ font-weight: 800; }
.actItem__s{ color: var(--muted); font-size: 13px; margin-top: 2px; }

/* fundos e bordas mais presentes */
.act--green{
  background: rgba(22,163,74,.10);
  border-color: color-mix(in srgb, var(--green) 45%, var(--line));
}
.act--green .actItem__ico{ background: var(--green); }

.act--orange{
  background: rgba(249,115,22,.10);
  border-color: color-mix(in srgb, var(--orange) 45%, var(--line));
}
.act--orange .actItem__ico{ background: var(--orange); }

.act--blue{
  background: rgba(37,99,235,.10);
  border-color: color-mix(in srgb, var(--blue) 45%, var(--line));
}
.act--blue .actItem__ico{ background: var(--blue); }

/* ✅ GRID2 BASE (voltou!) — desktop */
.grid2{
  display:grid;
  grid-template-columns: 420px 1fr;
  gap: 18px;
  max-width: 100%;

  /* ✅ FIX GRID: filhos podem encolher */
  min-width: 0;
}

/* ✅ NOVO: mini-grid (Cidade / UF) no padrão do seu layout */
.gridMini{
  display:grid;
  grid-template-columns: minmax(0, 1fr) 120px; /* ✅ FIX */
  gap: 12px;
  align-items: start;

  /* ✅ FIX GRID */
  min-width: 0;
}

/* form */
.form{ display:grid; gap: 12px; margin-top: 12px; min-width:0; }
.field{ display:grid; gap: 6px; min-width:0; }
.field span{ color: var(--muted); font-size: 14px; font-weight: 700; }

/* Campos com fundo/borda visíveis */
.field input,
.field select,
.field textarea{
  width:100%;
  max-width: 100%;
  min-width: 0; /* ✅ Safari/iOS + grid shrink */
  box-sizing: border-box; /* ✅ aqui é o mata-vazamento */
  padding: 11px 12px;
  border-radius: 12px;
  border: 1.5px solid var(--fieldBorder);
  background: var(--fieldBg);
  color: var(--text);
  outline: none;
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease, transform .08s ease, filter .15s ease;
}

.field input::placeholder,
.field textarea::placeholder{
  color: color-mix(in srgb, var(--muted) 70%, transparent);
}

.field input:focus,
.field select:focus,
.field textarea:focus{
  background: var(--fieldBgFocus);
  border-color: var(--fieldBorderFocus);
  box-shadow: 0 0 0 3px rgba(255,90,0,.18);
}

/* ✅ readonly com cara "premium": não apaga, só deixa claro que vem do CEP */
.field input[readonly]{
  background: color-mix(in srgb, var(--fieldBg) 86%, var(--panel));
  border-color: color-mix(in srgb, var(--fieldBorder) 88%, var(--line));
  cursor: not-allowed;
  opacity: 1;
}

/* ✅ FIX: inline não pode usar 1fr “puro” no iOS */
.inline{
  display:grid;
  grid-template-columns: minmax(0, 1fr) auto; /* ✅ FIX */
  gap: 10px;
  align-items:center;

  /* ✅ FIX GRID */
  min-width: 0;
}

/* =========================
   ✅ BOTÕES (hover + clique)
   ========================= */
.btnPrimary{
  border:0;
  background: var(--accent);
  color:#fff;
  padding: 12px 14px;
  border-radius: 12px;
  font-weight: 800;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 10px;
  transition: transform .08s ease, filter .15s ease, box-shadow .15s ease;
}
.btnPrimary--soft{ background: var(--accent); }
.btnPrimary:hover{ filter: brightness(.95); }
.btnPrimary:active{ transform: translateY(1px); filter: brightness(.90); }
.btnPrimary:disabled{ opacity: .65; cursor: not-allowed; filter: none; }

.btnGhost{
  border: 1.5px solid var(--line);
  background: var(--panel);
  color: var(--text);
  border-radius: 12px;
  padding: 10px 12px;
  font-weight: 800;
  cursor:pointer;
  transition: transform .08s ease, background .15s ease, filter .15s ease;
}
.btnGhost:hover{ background: color-mix(in srgb, var(--panel) 80%, #000 20%); }
html[data-theme="dark"] .btnGhost:hover{ background: color-mix(in srgb, var(--panel) 75%, var(--panelSoft)); }
.btnGhost:active{ transform: translateY(1px); filter: brightness(.95); }
.btnGhost:disabled{ opacity: .7; cursor: not-allowed; }

.btnSquare{
  border:0;
  width:44px;height:44px;
  border-radius: 12px;
  background: var(--accent);
  color:#fff;
  font-weight: 900;
  cursor:pointer;
  transition: transform .08s ease, filter .15s ease;
}
.btnSquare:hover{ filter: brightness(.95); }
.btnSquare:active{ transform: translateY(1px); filter: brightness(.90); }

.plus{ color: var(--accent); font-weight: 900; margin-right: 6px; }

/* table */
.tableWrap{
  overflow:auto;
  margin-top: 12px;
  border-radius: 14px;
  border: 1.5px solid var(--line);
  background: linear-gradient(180deg, var(--panel) 0%, var(--panelSoft) 100%);
  max-width: 100%;
  min-width: 0; /* ✅ FIX */
}
.table{ width:100%; border-collapse: collapse; }

.table thead th{
  text-align:left;
  font-size: 13px;
  color: var(--muted);
  padding: 12px;
  background: color-mix(in srgb, var(--panel) 85%, #000 15%);
  border-bottom: 1.5px solid var(--line);
}
.table tbody td{
  padding: 12px;
  border-top: 1.5px solid var(--line);
  vertical-align: middle;
}

.right{text-align:right;}
.trunc{ max-width: 520px; white-space: nowrap; overflow:hidden; text-overflow: ellipsis; }

.imgThumb{
  width:44px;height:44px;
  border-radius: 12px;
  border: 1.5px solid var(--line);
  object-fit: cover;
}

.iconBtn{
  border:0;
  background: transparent;
  cursor:pointer;
  padding: 8px;
  border-radius: 10px;
  color: #ef4444;
  transition: transform .08s ease, background .15s ease, filter .15s ease;
}
.iconBtn:hover{ background: rgba(239,68,68,.10); }
.iconBtn:active{ transform: translateY(1px); filter: brightness(.95); }

/* dropzone */
.dropzone{
  border: 2px dashed rgba(255,90,0,.45);
  border-radius: 16px;
  padding: 14px;
  cursor: pointer;
  background: rgba(255,90,0,.06);
  display:grid;
  gap: 12px;
  text-align: center;
  justify-items: center;
  align-content: center;
  max-width: 100%;
  min-width: 0; /* ✅ FIX */
}
.dropzone.is-drag{ background: rgba(255,90,0,.12); border-color: rgba(255,90,0,.75); }
.dropzone__title{ font-weight: 900; }
.dropzone__sub{ color: var(--muted); font-size: 13px; }
.dropzone__preview img{
  width: 100%;
  max-height: 220px;
  object-fit: contain;
  border-radius: 14px;
  border: 1.5px solid var(--line);
  background: rgba(0,0,0,.02);
  max-width: 100%;
}

/* orders */
.orders{ display:grid; gap: 14px; margin-top: 12px; min-width:0; }
.orderCard{
  border-radius: 16px;
  padding: 16px;
  border: 2px solid transparent;
  background: var(--panelSoft);
  min-width: 0;
}
.orderTop{
  display:flex; align-items:center; justify-content:space-between;
  gap: 12px;
}
.orderTitle{
  font-weight: 900;
  font-size: 18px;
  display:flex; align-items:center; gap: 10px;
}
.badge{
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 900;
  font-size: 12px;
  display:inline-flex; align-items:center; gap: 8px;
}
.badge--prep{ background: rgba(249,115,22,.16); color: var(--orange); }
.badge--way{ background: rgba(37,99,235,.16); color: var(--blue); }
.badge--done{ background: rgba(22,163,74,.16); color: var(--green); }

.orderMeta{
  margin-top: 6px;
  color: var(--muted);
  font-size: 13px;
}
.orderBody{ margin-top: 12px; color: var(--text); }
.orderActions{
  margin-top: 12px;
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
}

.btnStatus{
  border-radius: 999px;
  padding: 10px 12px;
  font-weight: 900;
  border: 2px solid transparent;
  cursor:pointer;
  background: transparent;
  transition: transform .08s ease, filter .15s ease, background .15s ease;
}
.btnStatus--prep{ color: var(--orange); border-color: rgba(249,115,22,.45); }
.btnStatus--prep:hover{ background: rgba(249,115,22,.12); }
.btnStatus--way{ color: var(--blue); border-color: rgba(37,99,235,.45); }
.btnStatus--way:hover{ background: rgba(37,99,235,.12); }
.btnStatus--done{ color: var(--green); border-color: rgba(22,163,74,.45); }
.btnStatus--done:hover{ background: rgba(22,163,74,.12); }
.btnStatus:active{ transform: translateY(1px); filter: brightness(.95); }

.orderCard--prep{ background: rgba(249,115,22,.06); border-color: rgba(249,115,22,.28); }
.orderCard--way{ background: rgba(37,99,235,.06); border-color: rgba(37,99,235,.28); }
.orderCard--done{ background: rgba(22,163,74,.06); border-color: rgba(22,163,74,.28); }

.chips{
  display:flex;
  flex-wrap: wrap;
  gap: 8px;
  max-width: 100%;
  min-width: 0;
}
.chip{
  border-radius: 999px;
  padding: 8px 10px;
  background: rgba(0,0,0,.05);
  border: 1.5px solid var(--line);
  display:flex;
  gap: 8px;
  align-items:center;
  font-weight: 800;
  max-width: 100%;
}
.chip button{
  border:0;
  background: transparent;
  cursor:pointer;
  font-weight: 900;
  color: #ef4444;
}

/* settings switch */
.rowBetween{ display:flex; align-items:center; justify-content:space-between; gap: 14px; }
.muted{ color: var(--muted); margin: 6px 0 0; }
.hint{ color: var(--muted); font-size: 12px; }

#cepHint.is-ok{ color: var(--green); }
#cepHint.is-err{ color: var(--danger); }

.switch{
  position: relative;
  width: 52px;
  height: 28px;
  display:inline-block;
}
.switch input{ display:none; }
.slider{
  position:absolute; inset:0;
  background: #111;
  border-radius: 999px;
  transition:.2s ease;
}
.slider::after{
  content:"";
  position:absolute;
  top:4px; left:4px;
  width:20px; height:20px;
  background:#fff;
  border-radius: 999px;
  transition:.2s ease;
}
.switch input:checked + .slider{ background: #16a34a; }
.switch input:checked + .slider::after{ transform: translateX(24px); }

/* toast */
.toast{
  position: fixed;
  top: 16px;
  left: 50%;
  transform: translateX(-50%);
  padding: 10px 12px;
  border-radius: 12px;
  border: 1.5px solid var(--line);
  background: var(--panel);
  box-shadow: var(--shadow);
  z-index: 9999;

  width: fit-content;
  max-width: min(420px, calc(100% - 24px));
  text-align: center;
}
.toast.is-hidden{ display:none; }

/* =========================
   RESPONSIVO (ajustado)
   ========================= */
@media (max-width: 1100px){
  .cards{ grid-template-columns: repeat(2, minmax(180px,1fr)); }
  .grid2{ grid-template-columns: 1fr; }
  .gridMini{ grid-template-columns: 1fr; }
  .app{ grid-template-columns: 1fr; }

  .sidebar{
    border-right: 0;
  }
}

/* ✅ MOBILE REAL: drawer lateral + botão topo + overlay */
@media (max-width: 768px){
  .menu-toggle{
    display: inline-flex;
  }

  .sidebar{
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 280px;
    max-width: 85vw;
    z-index: 1200;

    transform: translateX(-110%);
    transition: transform .28s ease;

    border-right: 1px solid rgba(255,255,255,.06);
  }
  .sidebar.is-open{
    transform: translateX(0);
  }

  .panel{
    padding: 14px;
    max-width: 100%;
    min-width: 0;
  }

  .main{
    padding-top: 72px;
    padding-left: 16px;
    padding-right: 16px;
    min-width: 0;
  }
}
